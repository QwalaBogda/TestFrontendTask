<div style="padding:16px;">
  <div style="display:flex; align-items:center; gap:16px; margin-bottom:16px;">
    <h2 style="margin:0;">Новости</h2>
    <mat-button-toggle-group [(value)]="view">
      <mat-button-toggle value="grid">Плитка</mat-button-toggle>
      <mat-button-toggle value="list">Список</mat-button-toggle>
    </mat-button-toggle-group>
  </div>
  
  <div *ngIf="store.loading()">Загрузка...</div>
  <div *ngIf="store.error()">{{ store.error() }}</div>

  <div *ngIf="view() === 'grid'" class="news-grid">
    <mat-card 
      *ngFor="let n of store.items()" 
      class="news-card"
      (click)="openNews(n)">
      <img *ngIf="n.image" [src]="n.image" alt="" class="news-image"/>
      <mat-card-header class="news-header">
        <mat-card-title class="news-title">{{ pickTitle(n) }}</mat-card-title>
      </mat-card-header>
    </mat-card>
  </div>

  <div *ngIf="view() === 'list'">
    <mat-card *ngFor="let n of store.items()" style="margin-bottom:12px;">
      <mat-card-header>
        <mat-card-title>{{ pickTitle(n) }}</mat-card-title>
        <mat-card-subtitle *ngIf="n.created_at as d">{{ d | date:'medium' }}</mat-card-subtitle>
      </mat-card-header>
      <img mat-card-image *ngIf="n.image" [src]="n.image" alt="" />
      <mat-card-content>
        <p>{{ pickText(n) }}</p>
      </mat-card-content>
    </mat-card>
  </div>
</div>